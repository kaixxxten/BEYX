<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>互動式 GIF 模擬</title>
  <style>
    body {
      background-color: #f8f8f8;
      text-align: center;
      font-family: sans-serif;
      margin: 0;
      padding: 2em;
    }
    img {
      width: 800px;
      height: auto;
      cursor: pointer;
      user-select: none;
      -webkit-user-drag: none;
    }
  </style>
</head>
<body>

<h2>點圖片或左右鍵切換圖片,可以讓阿鳥加速OO</h2>
<h2>画像をクリックするか、左右のキーで画像を切り替え、バードにOOを加速させることができます</h2>

  <img id="gifFrame" src="frame1.png" alt="GIF Frame" />

  <script>
    const frames = [
      "frame1.png",
      "frame2.png",
      "frame3.png",
    ];

    let currentFrame = 0;
    const img = document.getElementById("gifFrame");

    function updateFrame(index) {
      currentFrame = (index + frames.length) % frames.length;
      img.src = frames[currentFrame];
    }

    img.addEventListener("click", () => {
      updateFrame(currentFrame + 1);
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") {
        updateFrame(currentFrame + 1);
      } else if (e.key === "ArrowLeft") {
        updateFrame(currentFrame - 1);
      }
    });

    let startX = 0;
    img.addEventListener("touchstart", (e) => {
      startX = e.touches[0].clientX;
    });

    img.addEventListener("touchend", (e) => {
      const endX = e.changedTouches[0].clientX;
      const diff = endX - startX;

      if (Math.abs(diff) > 30) {
        if (diff > 0) {
          updateFrame(currentFrame - 1);
        } else {
          updateFrame(currentFrame + 1);
        }
      }
    });
  </script>

</body>
</html>
