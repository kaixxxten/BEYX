<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>掉落遊戲</title>
  <link rel="stylesheet" href="style.css?v=19.8.6p">
</head>
<body class="menu">
  <div class="topbar" id="topHUD">
    <div class="stat" id="topScore">Score: 0</div>
    <div class="stat" id="topCombo">⭐ 0</div>
    <div class="stat" id="topTime">Time: 30</div>
    <div class="right">
      <button class="mute" id="btnMute" aria-label="Mute">🔊</button>
    </div>
  </div>

  <div id="canvasBox">
    <canvas id="gameCanvas" width="800" height="800"></canvas>
    <div id="authorCorner">X@kaixxxten</div>
  </div>

  <div id="controls">
    <button id="btnLeft">◀</button>
    <button id="btnDash">DASH</button>
    <button id="btnRight">▶</button>
  </div>

  <!-- MENU -->
  <div id="menu" class="panel">
    <h1 id="title">掉落遊戲</h1>

    <div class="row two" style="justify-items:center;">
      <button id="menuStart" class="btn primary">開始遊戲</button>
      <button id="menuHow" class="btn outline">玩法說明</button>
    </div>

    <div class="row three">
      <div class="label" id="diffLabel">難度：</div>
      <div class="btnwrap">
        <button class="btn diff" data-v="easy">簡單</button>
      </div>
      <div class="btnwrap">
        <button class="btn diff sel" data-v="normal">普通</button>
      </div>
      <div class="btnwrap">
        <button class="btn diff" data-v="hard">困難</button>
      </div>
    </div>

    <div class="row two">
      <div class="label" id="timeLabel">時間：</div>
      <div class="btnwrap">
        <button class="btn timebtn sel" data-v="30">30 秒</button>
      </div>
      <div class="btnwrap">
        <button class="btn timebtn" data-v="60">60 秒</button>
      </div>
    </div>

    <div class="row three">
      <div class="label" id="langLabel">語言：</div>
      <div class="btnwrap">
        <button class="btn langbtn sel" data-v="zh">中文</button>
      </div>
      <div class="btnwrap">
        <button class="btn langbtn" data-v="ja">日本語</button>
      </div>
      <div class="btnwrap">
        <button class="btn langbtn" data-v="en">English</button>
      </div>
    </div>

    <!-- How to overlay -->
    <div id="howTo" class="overlay panel" hidden>
      <div class="how">
        <div class="how-header" style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
          <h2 id="howTitle" style="margin:0">玩法說明</h2>
          <button id="closeHow" class="btn outline">關閉</button>
        </div>
        <div id="howtoBody">
          <ul id="howList"></ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Game Over Overlay -->
  <div id="overlayGameOver" class="overlay panel" hidden>
    <div class="dialog">
      <h2 id="overTitle">時間到！</h2>
      <div class="scores">
        <div><span id="finalScore">0</span></div>
        <div><small>Best: <span id="bestScore">0</span></small></div>
      </div>
      <button id="btnRestartSame" class="btn primary">再玩一次（同難度）</button>
      <button id="btnBackToMenu" class="btn outline">回到標題</button>
    </div>
  </div>

  <script src="game.js?v=19.8.6n"></script>
</body>
</html>
