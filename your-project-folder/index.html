<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>固定尺寸角色互動</title>
<style>
  body {
    margin: 0;
    background: #eee;
    display: flex;
    justify-content: center;
    padding: 20px 0;
  }
  #container {
    position: relative;
    width: 1000px;
    height: 1415px;
    background: #ccc;
    overflow: visible;
    touch-action: none;
  }
  #character {
    width: 100%;
    height: 100%;
    object-fit: contain;
    user-select: none;
    pointer-events: none;
    position: absolute;
    top: 0; left: 0;
  }
  #touch-zone {
    position: absolute;
    left: 100px;
    top: 315px;
    width: 800px;
    height: 300px;
    background: rgba(255, 0, 0, 0.25);
    border-radius: 20px;
    cursor: pointer;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-8px); }
    40%, 80% { transform: translateX(8px); }
  }
  .shake {
    animation: shake 0.5s ease-in-out;
  }
</style>
</head>
<body>
  <div id="container" >
    <img src="images/character.png" id="character" alt="角色圖" />
    <div id="touch-zone"></div>
  </div>

<script>
  const touchZone = document.getElementById('touch-zone');
  const container = document.getElementById('container');

  function shakeAnimation() {
    touchZone.classList.remove('shake');
    void touchZone.offsetWidth;
    touchZone.classList.add('shake');

    if (navigator.vibrate) {
      navigator.vibrate(50);
    }
  }

  touchZone.addEventListener('click', () => {
    shakeAnimation();
  });

  container.addEventListener('touchstart', (e) => {
    if (e.target === touchZone && e.touches.length === 2) {
      shakeAnimation();
    }
  });
</script>
</body>
</html>
