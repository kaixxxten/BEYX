*{box-sizing:border-box}
body{margin:0;background:#222;color:#111;font-family:sans-serif;
display:flex;align-items:center;justify-content:center;min-height:100vh;padding:10px}
#wrap{position:relative;text-align:center;max-width:100%}
canvas{background:#fff;border:3px solid #000;max-width:100%;height:auto;display:block;margin:0 auto}
.overlay{position:absolute;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.4);padding:10px}
.overlay.show{display:flex}
.panel{background:#fff;padding:20px;border-radius:16px;border:2px solid #111;text-align:center;max-width:min(96vw,560px)}
.panel h1{margin:6px 0 12px}
button{cursor:pointer;border:2px solid #111;background:#111;color:#fff;padding:10px 16px;border-radius:12px;font-weight:700}
button:hover{filter:brightness(1.06)}
.menu-group{display:flex;flex-direction:column;gap:10px;margin-bottom:10px}
.difficulty{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:center}
.diff{background:#444}
.diff.active{background:#0a7}
.how{text-align:left}
.hud{position:absolute;left:10px;top:10px;color:#111;background:rgba(255,255,255,.85);padding:6px 10px;border-radius:10px;border:2px solid #111;font-weight:700}
.hud-bottom{position:absolute;left:10px;bottom:60px;color:#111;background:rgba(255,255,255,.85);padding:6px 10px;border-radius:10px;border:2px solid #111;font-weight:700}
#controls{margin-top:14px;display:flex;justify-content:center;gap:24px}
#controls button{font-size:32px;padding:18px 36px;border-radius:16px}
@media (max-width: 480px){
  #controls{gap:28px;margin-top:18px}
  .hud-bottom{bottom:90px}
}
